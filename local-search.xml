<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>MATLAB Installation and Setup on Arch Linux</title>
    <link href="/posts/4964769d/"/>
    <url>/posts/4964769d/</url>
    
    <content type="html"><![CDATA[<p>On Arch Linux, the MATLAB installer often crashes with a <code>Segmentation fault (core dumped)</code>. In practice, this kind of crash could be caused by many reasons, one of which is that the libraries in Arch are too new.</p><p>Instead of downgrading system libraries on the host, itâ€™s much safer to run the installer inside a containerized environment using <strong>Distrobox</strong>. This gives MATLAB a more conservative runtime without polluting the Arch system, while still sharing your home directory and display session with the host.</p><span id="more"></span><h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>Ensure you have <code>distrobox</code> and a container engine (Podman or Docker) installed on your Arch host:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S distrobox podman<br></code></pre></td></tr></table></figure><h2 id="Create-the-MATLAB-Environment"><a href="#Create-the-MATLAB-Environment" class="headerlink" title="Create the MATLAB Environment"></a>Create the MATLAB Environment</h2><p>Weâ€™ll use <strong>Ubuntu 22.04</strong> as the guest OS:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">distrobox create -n matlab --image ubuntu:22.04<br>distrobox enter matlab<br></code></pre></td></tr></table></figure><p><strong>Inside the container</strong>, install the essential softwares and libraries:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install -y \<br>  xfce4-terminal xterm \<br>  dbus-x11 \<br>  libgbm1 libasound2 libnss3 libxtst6 libpulse0 \<br>  libgl1-mesa-dri libgl1-mesa-glx \<br>  fonts-noto-cjk fonts-ubuntu<br></code></pre></td></tr></table></figure><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><ol><li>Download the MATLAB Linux installer from the official MathWorks portal.</li><li>Extract the <code>.zip</code> in your downloads folder.</li><li>From <strong>inside</strong> the container, navigate to that folder and run the installer:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./install<br></code></pre></td></tr></table></figure><p>Follow the GUI prompts. Since Distrobox shares your X11&#x2F;Wayland session, the installer window will appear natively on your Arch desktop.</p><h2 id="Desktop-Integration"><a href="#Desktop-Integration" class="headerlink" title="Desktop Integration"></a>Desktop Integration</h2><p>If you donâ€™t want to open a terminal to launch MATLAB every time, create a desktop entry at <code>~/.local/share/applications/matlab.desktop</code>:</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Desktop Entry]</span><br><span class="hljs-attr">Name</span>=MATLAB<br><span class="hljs-attr">GenericName</span>=Technical Computing<br><span class="hljs-attr">Comment</span>=Run MATLAB inside Ubuntu container<br><span class="hljs-attr">Type</span>=Application<br><span class="hljs-comment"># Replace &lt;matlab_path&gt; with your actual path</span><br><span class="hljs-attr">Icon</span>=&lt;matlab_path&gt;/bin/glnxa64/cef_resources/matlab_icon.png<br><span class="hljs-attr">Exec</span>=distrobox enter matlab -- &lt;matlab_path&gt;/bin/matlab -desktop<br><span class="hljs-attr">Categories</span>=Science<span class="hljs-comment">;Education;Development;</span><br><span class="hljs-attr">Terminal</span>=<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p><strong>Note:</strong> Ensure the <code>Exec</code> path points exactly to where you installed MATLAB</p>]]></content>
    
    
    <categories>
      
      <category>Matlab</category>
      
    </categories>
    
    
    <tags>
      
      <tag>matlab</tag>
      
      <tag>arch linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nvim: Error While Loading Shared Libraries: /usr/lib/lua/5.1/lpeg.so: Cannot Open Shared Object File: No Such File or Directory</title>
    <link href="/posts/405d6517/"/>
    <url>/posts/405d6517/</url>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>After running <code>paru</code>, we tried to  open <code>nvim</code> but got a error like this</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">nvim: error while loading shared libraries: /usr/lib/lua/5.1/lpeg.so: cannot open shared object file: No such file or directory<br></code></pre></td></tr></table></figure><span id="more"></span><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Install <code>lua51-lpeg</code> to solve it:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S lua51-lpeg<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Nvim</category>
      
    </categories>
    
    
    <tags>
      
      <tag>arch linux</tag>
      
      <tag>nvim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸º Arch å®‰è£…å¹¶é…ç½® Bspwm ç¯å¢ƒ</title>
    <link href="/posts/d466bea3/"/>
    <url>/posts/d466bea3/</url>
    
    <content type="html"><![CDATA[<p>ç»§å®‰è£…å¥½ Arch åï¼Œæˆ‘ä»¬æ¥å¯¹å®ƒè¿›è¡Œä¸€äº›å®‰è£…ã€é…ç½®ï¼Œè¿™é‡Œæˆ‘é€‰æ‹© <a href="https://github.com/baskerville/bspwm">bspwm</a> ä½œä¸º WMã€‚</p><span id="more"></span><h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ <a href="https://networkmanager.dev/">NetworkManager</a> æ¥è¿æ¥ç½‘ç»œè¿æ¥ã€‚</p><div class="note note-warning">            <p>è¯·ç¡®ä¿æ²¡æœ‰å…¶ä»–ç½‘ç»œæœåŠ¡åœ¨è¿è¡Œã€‚</p>          </div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl <span class="hljs-built_in">enable</span> --now NetworkManager <span class="hljs-comment"># å¯åŠ¨ NetworkManager</span><br>nmcli dev wifi list <span class="hljs-comment"># æ˜¾ç¤ºé™„è¿‘çš„ Wi-Fi ç½‘ç»œ</span><br>nmcli dev wifi connect <span class="hljs-string">&quot;Wi-Fiåï¼ˆSSIDï¼‰&quot;</span> password <span class="hljs-string">&quot;ç½‘ç»œå¯†ç &quot;</span> <span class="hljs-comment"># è¿æ¥æŒ‡å®šçš„æ— çº¿ç½‘ç»œ</span><br></code></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¯ä»¥ ping ä¸€ä¸‹æµ‹è¯•æ˜¯å¦è¿æ¥æˆåŠŸï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ping www.bilibili.com<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…å¾®ç "><a href="#å®‰è£…å¾®ç " class="headerlink" title="å®‰è£…å¾®ç "></a>å®‰è£…å¾®ç </h2><p>å®‰è£…å¯¹åº”èŠ¯ç‰‡çš„å¾®ç ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">pacman -S intel-ucode <span class="hljs-comment"># Intel</span><br>pacman -S amd-ucode <span class="hljs-comment"># AMD</span><br></code></pre></td></tr></table></figure><h2 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h2><p>é™¤äº† root ç”¨æˆ·å¤–ï¼Œæˆ‘ä»¬å†æ·»åŠ ä¸€ä¸ªé root ç”¨æˆ·ä»¥æ—¥å¸¸ä½¿ç”¨ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">useradd -m -G wheel -s /bin/fish myusername<br></code></pre></td></tr></table></figure><p>è®¾ç½®æ–°ç”¨æˆ·å¯†ç ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">passwd myusername<br></code></pre></td></tr></table></figure><p>å…è®¸ç”¨æˆ·ä½¿ç”¨ sudo å‘½ä»¤ï¼š</p><ol><li>ç¼–è¾‘ sudoers æ–‡ä»¶ <code>vim /etc/sudoers</code></li><li>å»æ‰ <code>#%wheel ALL=(ALL:ALL) ALL</code> å‰é¢çš„æ³¨é‡Š</li></ol><h2 id="æ·»åŠ -pacman-æº"><a href="#æ·»åŠ -pacman-æº" class="headerlink" title="æ·»åŠ  pacman æº"></a>æ·»åŠ  pacman æº</h2><p>ç¼–è¾‘ <code>/etc/pacman.conf</code> æ–‡ä»¶:</p><ol><li>å»æ‰æ–‡ä»¶æœ«å°¾ <code>[multilib]</code> ä¸€èŠ‚ä¸­ä¸¤è¡Œçš„æ³¨é‡Šï¼Œæ¥å¼€å¯ 32 ä½åº“æ”¯æŒ</li><li>åœ¨æ–‡æ¡£ç»“å°¾åŠ å…¥ä»¥ä¸‹å†…å®¹æ¥æ·»åŠ  archlinuxcn æºï¼š<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[archlinuxcn]</span><br><span class="hljs-attr">Server</span> = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å¼€æºé•œåƒç«™</span><br><span class="hljs-attr">Server</span> = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</span><br><span class="hljs-attr">Server</span> = https://mirrors.hit.edu.cn/archlinuxcn/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦å¼€æºé•œåƒç«™</span><br><span class="hljs-attr">Server</span> = https://repo.huaweicloud.com/archlinuxcn/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># åä¸ºå¼€æºé•œåƒç«™</span><br></code></pre></td></tr></table></figure></li></ol><p>ç„¶åè¿è¡Œ <code>pacman -Syyu</code></p><p>æ¥ä¸‹æ¥å°±å¯ä»¥å®‰è£… AUR Helper äº†ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯paruï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">pacman -S archlinuxcn-keyring<br>pacman -S paru<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-bspwm"><a href="#å®‰è£…-bspwm" class="headerlink" title="å®‰è£… bspwm"></a>å®‰è£… bspwm</h2><p>å®‰è£…ä¸€äº›å¿…è¦çš„åŒ…ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S bspwm sxhkd xorg rofi lxdm feh polybar picom dunst firefox wezterm<br>paru -S noto-fonts noto-fonts-cjk noto-fonts-emoji noto-fonts-extra<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨é»˜è®¤é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p ~/.config/sxhkd/ ~/.config/bspwm/<br><span class="hljs-built_in">cd</span> ~/.config<br><span class="hljs-built_in">cp</span> /usr/share/doc/bspwm/examples/bspwmrc bspwm/<br><span class="hljs-built_in">cp</span> /usr/share/doc/bspwm/examples/sxhkdrc sxhkd/<br></code></pre></td></tr></table></figure><p>ç„¶åå¯ä»¥ä¿®æ”¹ <code>sxhkdrc</code> æ–‡ä»¶çš„ä¸€äº›å¿«æ·é”®ï¼Œå¦‚ç»ˆç«¯ç­‰</p><p>å¯åŠ¨æ˜¾ç¤ºç®¡ç†å™¨ï¼Œç„¶åé‡å¯ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> lxdm<br>reboot<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨ç™»é™†ç•Œé¢çš„å·¦ä¸‹è§’ <code>Desktop</code> é€‰æ‹© bspwmï¼Œç™»é™†å³å¯ã€‚</p><h2 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h2><p>å®‰è£… <code>xdg-user-dirs</code> æ¥å¿«é€Ÿç”Ÿæˆä¸€äº›å¸¸ç”¨ç›®å½•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S xdg-user-dirs<br>LC_ALL=C xdg-user-dirs-update --force<br></code></pre></td></tr></table></figure><p>å®‰è£… <code>clash</code> è”é€šä¸–ç•Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S clash<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥çš„é…ç½®å¯ä»¥çœ‹<a href="https://xxiaoa.github.io/posts/44a995c1/">ä¹‹å‰çš„æ–‡ç« </a>ã€‚</p><p>å®‰è£… <code>openssh</code> ç”Ÿæˆ ssh key</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S openssh<br>git config --global user.name <span class="hljs-string">&quot;name&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;email&quot;</span><br>ssh-keygen -t ed25519 -C <span class="hljs-string">&quot;email&quot;</span><br><span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(ssh-agent -s)</span>&quot;</span><br>ssh-add ~/.ssh/id_ed25519<br></code></pre></td></tr></table></figure><p>ç„¶åæŠŠ <code>~/.ssh/id_rsa.pub</code> çš„å†…å®¹ä¸Šä¼ åˆ° Githubï¼š <code>settings</code>-&gt;<code>SSH and GPG keys</code>-&gt;<code>New SSH key</code></p><p>æµ‹è¯•æ˜¯å¦æˆåŠŸï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ssh -T git@github.com<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æ‹‰å– dotfiles å¹¶ä½¿ç”¨ <a href="https://github.com/XXiaoA/xdm">xdm</a> æ¥å¿«é€Ÿç®¡ç†ï¼Œå»ºç«‹è½¯è¿æ¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S xdm<br>git <span class="hljs-built_in">clone</span> git@github.com:XXiaoA/dotfiles.git ~/<br><span class="hljs-built_in">cd</span> ~/dotfiles/<br>xdm s<br></code></pre></td></tr></table></figure><p>å®‰è£…ä¸€äº›å…¶ä»–çš„å¸¸ç”¨è½¯ä»¶å’Œå­—ä½“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S ttf-maple-latest nerd-fonts-complete ttf-lxgw-wenkai<br>paru -S clang axel wget tmux btop starship zoxide pkgfile usbutils trash-cli rust rust-src keymapper ripgrep xclip node npm fd neovim-git python-pynvim unzip telegram-desktop-megumifox bat eza udisks2 udiskie git-delta clang fzf maim mpv simplescreenrecorder android-file-transfer<br></code></pre></td></tr></table></figure><p>å¼€å¯ <code>keymapper</code>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now keymapperd.service<br></code></pre></td></tr></table></figure><h2 id="æ˜¾å¡é©±åŠ¨"><a href="#æ˜¾å¡é©±åŠ¨" class="headerlink" title="æ˜¾å¡é©±åŠ¨"></a>æ˜¾å¡é©±åŠ¨</h2><p>æ›´å¤šå¯ä»¥æŸ¥çœ‹è¿™ä¸ª<a href="https://arch.icekylin.online/guide/rookie/graphic-driver.html#archlinux-%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8">ç½‘ç«™</a></p><div class="note note-info">            <p>Fuck You, NVIDIA</p>          </div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">sudo</span> pacman -S mesa lib32-mesa vulkan-intel lib32-vulkan-intel<br><span class="hljs-built_in">sudo</span> pacman -S nvidia nvidia-settings lib32-nvidia-utils<br><span class="hljs-built_in">sudo</span> mkinitcpio -P<br></code></pre></td></tr></table></figure><h2 id="è¾“å…¥æ³•"><a href="#è¾“å…¥æ³•" class="headerlink" title="è¾“å…¥æ³•"></a>è¾“å…¥æ³•</h2><p>å®‰è£… <code>fcitx5</code> è¾“å…¥æ³•ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S fcitx5-im fcitx5-chinese-addons fcitx5-pinyin-zhwiki  fcitx5-material-color<br></code></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œ <code>fcitx5-configtool</code> è¿›è¡Œæ·»åŠ é…éŸ³è¾“å…¥æ³•ï¼Œé…ç½®å¤–è§‚ï¼Œå­—ä½“ï¼Œäº‘æ‹¼éŸ³ç­‰</p><h2 id="å£°éŸ³"><a href="#å£°éŸ³" class="headerlink" title="å£°éŸ³"></a>å£°éŸ³</h2><p>ä½¿ç”¨ <code>pulseaudio</code> æä¾›å£°éŸ³æœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S alsa-utils pulseaudio pavucontrol<br></code></pre></td></tr></table></figure><h2 id="å…å¯†ç™»é™†"><a href="#å…å¯†ç™»é™†" class="headerlink" title="å…å¯†ç™»é™†"></a>å…å¯†ç™»é™†</h2><p>åœ¨ <code>/etc/lxdm/lxdm.conf</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>autologin=username</code>ã€‚å…¶ä¸­çš„ username æ”¹æˆå¯¹åº”çš„ç”¨æˆ·åã€‚ç„¶åå¯ä»¥é¡ºä¾¿æ·»åŠ  <code>numlock=1</code> æ¥å¼€æœºå¯åŠ¨ numlock</p><h2 id="Grub-Theme"><a href="#Grub-Theme" class="headerlink" title="Grub Theme"></a>Grub Theme</h2><p>åœ¨ <a href="https://www.gnome-look.org/browse?cat=109&amp;ord=rating">https://www.gnome-look.org/browse?cat=109&amp;ord=rating</a> ç­‰ç½‘ç«™å¯»æ‰¾ç„¶åä¸‹è½½æƒ³è¦çš„ä¸»é¢˜ã€‚ç„¶åè§£å‹ç¼©ï¼ŒæŠŠå¾—åˆ°çš„ä¸»é¢˜æ–‡ä»¶å¤¹å¤åˆ¶åˆ° <code>/boot/grub/themes/</code> ç›®å½•ï¼ˆå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼‰ã€‚ä¿®æ”¹ <code>/etc/default/grub</code> æ–‡ä»¶ï¼ŒæŠŠ <code>GRUB_THEME</code> æŒ‡å‘ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>theme.txt</code> æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs conf">GRUB_THEME=&quot;/boot/grub/themes/darkmatter/theme.txt&quot;<br></code></pre></td></tr></table></figure><p>æœ€åæ›´æ–° grub.cfg æ–‡ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><h2 id="å…‰æ ‡ä¸»é¢˜"><a href="#å…‰æ ‡ä¸»é¢˜" class="headerlink" title="å…‰æ ‡ä¸»é¢˜"></a>å…‰æ ‡ä¸»é¢˜</h2><p>åœ¨ <a href="https://www.gnome-look.org/browse?cat=107&amp;ord=rating">https://www.gnome-look.org/browse?cat=107&amp;ord=rating</a> ä¸‹è½½ä¸»é¢˜ã€‚ç„¶åè§£å‹åˆ° <code>~/.local/share/icons/</code> æˆ–è€… <code>~/.icons/</code> ç›®å½•ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> ~/.icons/<br>tar xvf foobar-cursor-theme.tar.gz -C ~/.icons/<br></code></pre></td></tr></table></figure><p>ä»¥åŠå®‰è£…çš„ä¸»é¢˜å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">find /usr/share/icons ~/.local/share/icons ~/.icons -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">&quot;cursors&quot;</span><br></code></pre></td></tr></table></figure><p>åˆ›å»º <code>~/.icons/default/index.theme</code> æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">[icon theme]<br>Inherits=cursor_theme_name<br></code></pre></td></tr></table></figure><p>ç„¶ååˆ›å»º <code>~/.config/gtk-3.0/settings.ini</code> æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">[Settings]<br>gtk-cursor-theme-name=cursor_theme_name<br></code></pre></td></tr></table></figure><p>å®Œæˆä¹‹åé‡å¯å°±åº”è¯¥ç”Ÿæ•ˆäº†ã€‚å¦‚æœåªæœ‰åœ¨çª—å£ç”Ÿæ•ˆé‚£ä¹ˆåœ¨ <code>bspwmrc</code> ä¸­æ·»åŠ  <code>xsetroot -cursor_name left_ptr</code></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://arch.icekylin.online/">https://arch.icekylin.online/</a><br><a href="https://zhuanlan.zhihu.com/p/568211941">https://zhuanlan.zhihu.com/p/568211941</a><br><a href="https://wiki.archlinux.org/">https://wiki.archlinux.org/</a><br><a href="https://github.com/baskerville/bspwm/issues/1231">https://github.com/baskerville/bspwm/issues/1231</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>arch linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®°ä¸€æ¬¡å®‰è£… Arch Linux</title>
    <link href="/posts/45550377/"/>
    <url>/posts/45550377/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ¶ä½œ-U-ç›˜å¯åŠ¨ç›˜"><a href="#åˆ¶ä½œ-U-ç›˜å¯åŠ¨ç›˜" class="headerlink" title="åˆ¶ä½œ U ç›˜å¯åŠ¨ç›˜"></a>åˆ¶ä½œ U ç›˜å¯åŠ¨ç›˜</h2><p>æ¨èæ‰¾ä¸ª<strong>é è°±</strong>çš„ u ç›˜å®‰è£… <a href="https://www.ventoy.net/cn/index.html">ventoy</a>ã€‚</p><p>ISO æ–‡ä»¶å¯å» <a href="https://archlinux.org/download/">Arch å®˜ç½‘</a> ä¸‹è½½, ä¸€å®šè¦æ£€éªŒä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶çš„å®Œæ•´æ€§, å¦‚ sha256sums ç­‰ã€‚ å¦‚æœæ²¡é—®é¢˜ï¼ŒæŠŠ ISO æ–‡ä»¶æ‹·è¿› u ç›˜çš„æ•°æ®åˆ†åŒºå³å¯ã€‚</p><span id="more"></span><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ç„¶åæ’ç€ u ç›˜å¯åŠ¨ç”µè„‘ï¼ŒæŒ‰ f10 æˆ– f12 è¿› BIOS è®¾ç½®ç•Œé¢, åœ¨è®¾ç½®é‡ŒæŠŠå¼•å¯¼æ¨¡å¼æ”¹ä¸º uefi onlyï¼ˆæˆ–å…³æ‰ legacyã€csmï¼‰ã€‚è®°å¾—ä¿å­˜è®¾ç½®ã€‚ç„¶åè¿›å…¥ ventoy èœå•ï¼Œé€‰æ‹©åˆšåˆšçš„ ISO æ–‡ä»¶ã€‚</p><h3 id="ç¦ç”¨-reflector-æœåŠ¡"><a href="#ç¦ç”¨-reflector-æœåŠ¡" class="headerlink" title="ç¦ç”¨ reflector æœåŠ¡"></a>ç¦ç”¨ reflector æœåŠ¡</h3><p>è¿›å…¥ Live ç¯å¢ƒåï¼Œå…ˆç¦ç”¨ reflector æœåŠ¡ï¼Œæ–¹ä¾¿åç»­é€‰æ‹©é•œåƒã€‚ è¿è¡Œï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl stop reflector.service<br></code></pre></td></tr></table></figure><p>å¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æˆåŠŸç¦ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl status reflector.service<br></code></pre></td></tr></table></figure><h3 id="éªŒè¯å¼•å¯¼æ¨¡å¼"><a href="#éªŒè¯å¼•å¯¼æ¨¡å¼" class="headerlink" title="éªŒè¯å¼•å¯¼æ¨¡å¼"></a>éªŒè¯å¼•å¯¼æ¨¡å¼</h3><p>ç”¨ä¸‹åˆ—å‘½ä»¤åˆ—å‡º efivars ç›®å½•ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">ls</span> /sys/firmware/efi/efivars<br></code></pre></td></tr></table></figure><p>å¦‚æœå‘½ä»¤ç»“æœæ˜¾ç¤ºäº†ç›®å½•ä¸”æ²¡æœ‰æŠ¥å‘Šé”™è¯¯ï¼Œåˆ™ç³»ç»Ÿä»¥ UEFI æ¨¡å¼å¼•å¯¼ã€‚ å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™ç³»ç»Ÿå¯èƒ½ä»¥ BIOS æ¨¡å¼ (æˆ– CSM æ¨¡å¼) å¼•å¯¼ã€‚</p><h3 id="è¿æ¥ç½‘ç»œ"><a href="#è¿æ¥ç½‘ç»œ" class="headerlink" title="è¿æ¥ç½‘ç»œ"></a>è¿æ¥ç½‘ç»œ</h3><p>é€šè¿‡ä»¥ä¸‹ä»£ç è¿æ¥ç½‘ç»œã€‚æ³¨æ„ï¼ŒWifi åä¸èƒ½ä¸ºä¸­æ–‡, ä¸ç„¶åªèƒ½çœ‹åˆ°ä¸€å †æ–¹å—, å½“ç„¶ä¹Ÿä¸èƒ½è¾“å…¥ä¸­æ–‡ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">iwctl <span class="hljs-comment"># è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ</span><br>device list <span class="hljs-comment"># åˆ—å‡ºæ— çº¿ç½‘å¡è®¾å¤‡åï¼Œæ¯”å¦‚æ— çº¿ç½‘å¡çœ‹åˆ°å« wlan0</span><br>station wlan0 scan <span class="hljs-comment"># æ‰«æç½‘ç»œ</span><br>station wlan0 get-networks <span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰ wifi ç½‘ç»œ</span><br>station wlan0 connect wifi-name <span class="hljs-comment"># è¿›è¡Œè¿æ¥ï¼Œæ³¨æ„è¿™é‡Œæ— æ³•è¾“å…¥ä¸­æ–‡ã€‚å›è½¦åè¾“å…¥å¯†ç å³å¯</span><br><span class="hljs-built_in">exit</span> <span class="hljs-comment"># è¿æ¥æˆåŠŸåé€€å‡º</span><br></code></pre></td></tr></table></figure><p>è¿æ¥æˆåŠŸåå¯ä»¥ ping ä¸€ä¸‹æ£€æŸ¥ç½‘è·¯è¿æ¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ping www.baidu.com<br></code></pre></td></tr></table></figure><h3 id="æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿ"><a href="#æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿ" class="headerlink" title="æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿ"></a>æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿ</h3><p>åœ¨ Live ç¯å¢ƒä¸­ systemd-timesyncd é»˜è®¤å¯ç”¨ï¼Œå»ºç«‹äº’è”ç½‘è¿æ¥åï¼Œæ—¶é—´å°†è‡ªåŠ¨åŒæ­¥ã€‚å½“ç„¶å¯ä»¥å†æ‰‹åŠ¨åŒæ­¥å¹¶ç¡®è®¤ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">timedatectl set-ntp <span class="hljs-literal">true</span> <span class="hljs-comment"># å°†ç³»ç»Ÿæ—¶é—´ä¸ç½‘ç»œæ—¶é—´è¿›è¡ŒåŒæ­¥</span><br>timedatectl status <span class="hljs-comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span><br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-Mirror"><a href="#ä¿®æ”¹-Mirror" class="headerlink" title="ä¿®æ”¹ Mirror"></a>ä¿®æ”¹ Mirror</h3><p>ä¿®æ”¹ <code>/etc/pacman.d/mirrorlist</code> æ–‡ä»¶ï¼ˆä½¿ç”¨ vim ç­‰ï¼‰ã€‚æŠŠ China ç›¸å…³çš„æºæ”¾åœ¨æœ€ä¸Šé¢ï¼Œå¯ä»¥é€‚å½“ä¿ç•™å…¶ä»–æºï¼Œä¸éœ€è¦çš„ä½¿ç”¨ <code>#</code> æ³¨é‡Šæ‰å³å¯ã€‚</p><h3 id="åˆ†åŒºä¸æ ¼å¼åŒ–"><a href="#åˆ†åŒºä¸æ ¼å¼åŒ–" class="headerlink" title="åˆ†åŒºä¸æ ¼å¼åŒ–"></a>åˆ†åŒºä¸æ ¼å¼åŒ–</h3><div class="note note-warning">            <p>ä»¥ä¸‹æ“ä½œå…·æœ‰é£é™©æ€§ï¼ï¼ï¼</p>          </div><p>ç”¨ <code>cfdisk</code> è¿›è¡Œåˆ†åŒº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">cfdisk /dev/sda<br></code></pre></td></tr></table></figure><p>å…·ä½“åˆ†åŒºå¤§å°å’Œç±»å‹å¦‚ä¸‹ï¼Œå› ä¸ºåç»­ä½¿ç”¨ <strong>Btrfs</strong> æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥æ ¹ç›®å½•å’Œç”¨æˆ·ä¸»ç›®å½•å®é™…åœ¨ä¸€ä¸ªåˆ†åŒºä¸Šã€‚</p><table><thead><tr><th>æŒ‚è½½ç‚¹</th><th>åˆ†åŒº</th><th>åˆ†åŒºç±»å‹</th><th>å»ºè®®å¤§å°</th></tr></thead><tbody><tr><td>&#x2F;mnt&#x2F;boot&#x2F;efi</td><td>&#x2F;dev&#x2F;efi_system_partition</td><td>EFI System</td><td>è‡³å°‘ 300 MiB</td></tr><tr><td>[SWAP]</td><td>&#x2F;dev&#x2F;swap_partition</td><td>Linux swap</td><td>å¤§äºç­‰äºå†…å­˜</td></tr><tr><td>&#x2F;mnt</td><td>&#x2F;dev&#x2F;root_partition</td><td>Linux filesystem</td><td>å‰©ä½™ç©ºé—´</td></tr></tbody></table><p>æ“ä½œå®Œåè®°å¾—å†™å…¥ã€‚å¯ä»¥ä½¿ç”¨ <code>fdisk -l</code> æŸ¥çœ‹åˆ†åŒºæƒ…å†µã€‚<br></p><p>æ ¼å¼åŒ– EFI åˆ†åŒº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">mkfs.fat -F32 /dev/sda1<br></code></pre></td></tr></table></figure><p>æ ¼å¼åŒ– swap åˆ†åŒºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">mkswap /dev/sda2<br></code></pre></td></tr></table></figure><p>æ ¼å¼åŒ– btrfs åˆ†åŒºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">mkfs.btrfs -L XXiaoA_Arch /dev/sda3 <span class="hljs-comment"># -L åæ˜¯åˆ†åŒºçš„ LABLE</span><br></code></pre></td></tr></table></figure><p>ä¸ºäº†åˆ›å»ºå­å·ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°† Btrfs åˆ†åŒºæŒ‚è½½åˆ° &#x2F;mnt ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">mount -t btrfs -o compress=zstd /dev/sda3 /mnt<br></code></pre></td></tr></table></figure><blockquote><p>-t é€‰é¡¹åæŒ‡å®šæŒ‚è½½åˆ†åŒºæ–‡ä»¶ç³»ç»Ÿç±»å‹<br>-o é€‰é¡¹åæ·»åŠ æŒ‚è½½å‚æ•°ï¼š compress&#x3D;zstd â€”â€” å¼€å¯é€æ˜å‹ç¼©</p></blockquote><p>åˆ›å»ºä¸¤ä¸ª Btrfs å­å·ï¼Œä¹‹åå°†åˆ†åˆ«æŒ‚è½½åˆ° <code>/</code> æ ¹ç›®å½•å’Œ <code>/home</code> ç”¨æˆ·ä¸»ç›®å½•ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">btrfs subvolume create /mnt/@ <span class="hljs-comment"># åˆ›å»º / ç›®å½•å­å·</span><br>btrfs subvolume create /mnt/@home <span class="hljs-comment"># åˆ›å»º /home ç›®å½•å­å·</span><br></code></pre></td></tr></table></figure><p>å¤æŸ¥å­å·æƒ…å†µï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">btrfs subvolume list -p /mnt<br></code></pre></td></tr></table></figure><p>å­å·åˆ›å»ºå¥½åï¼Œæˆ‘ä»¬éœ€è¦å°† <code>/mnt</code> å¸è½½æ‰ï¼Œä»¥æŒ‚è½½å­å·ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">umount /mnt<br></code></pre></td></tr></table></figure><h3 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h3><p>æ³¨æ„æŒ‚è½½çš„é¡ºåºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">mount -t btrfs -o subvol=/@,compress=zstd /dev/sda3 /mnt <span class="hljs-comment"># æŒ‚è½½ / ç›®å½•</span><br><span class="hljs-built_in">mkdir</span> /mnt/home <span class="hljs-comment"># åˆ›å»º /home ç›®å½•</span><br>mount -t btrfs -o subvol=/@home,compress=zstd /dev/sda3 /mnt/home <span class="hljs-comment"># æŒ‚è½½ /home ç›®å½•</span><br><span class="hljs-built_in">mkdir</span> -p /mnt/boot/efi <span class="hljs-comment"># åˆ›å»º /boot/efi ç›®å½•</span><br>mount /dev/sda1 /mnt/boot/efi <span class="hljs-comment"># æŒ‚è½½ /boot/efi ç›®å½•</span><br>swapon /dev/sda2 <span class="hljs-comment"># æŒ‚è½½äº¤æ¢åˆ†åŒº</span><br></code></pre></td></tr></table></figure><p>å¯ä½¿ç”¨ <code>df -h</code> å’Œ <code>free -h</code> å¤æŸ¥æŒ‚è½½æƒ…å†µã€‚</p><h3 id="å®‰è£…ç³»ç»Ÿ"><a href="#å®‰è£…ç³»ç»Ÿ" class="headerlink" title="å®‰è£…ç³»ç»Ÿ"></a>å®‰è£…ç³»ç»Ÿ</h3><p>ä½¿ç”¨ <code>pacstrap</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">pacstrap -K /mnt base base-devel linux linux-firmware btrfs-progs<br>pacstrap -K /mnt dhcpcd networkmanager vim <span class="hljs-built_in">sudo</span> fish<br></code></pre></td></tr></table></figure><h3 id="ç”Ÿæˆ-fstab"><a href="#ç”Ÿæˆ-fstab" class="headerlink" title="ç”Ÿæˆ fstab"></a>ç”Ÿæˆ fstab</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">genfstab -U /mnt &gt; /mnt/etc/fstab<br></code></pre></td></tr></table></figure><p>å¤æŸ¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cat</span> /mnt/etc/fstab<br></code></pre></td></tr></table></figure><h3 id="Chroot"><a href="#Chroot" class="headerlink" title="Chroot"></a>Chroot</h3><p>chroot åˆ°æ–°å®‰è£…çš„ç³»ç»Ÿï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">arch-chroot /mnt<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–å·¥ä½œ"><a href="#å…¶ä»–å·¥ä½œ" class="headerlink" title="å…¶ä»–å·¥ä½œ"></a>å…¶ä»–å·¥ä½œ</h3><p>åœ¨ <code>/etc/hostname</code> è®¾ç½®ä¸»æœºåï¼ˆç›´æ¥åŠ å…¥æƒ³å–çš„ä¸»æœºåå³å¯, å¦‚ myarchï¼‰<br></p><p><code>/etc/hosts</code> æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">127.0.0.1   localhost<br>::1         localhost<br>127.0.1.1   myarch.localdomainmyarch<br></code></pre></td></tr></table></figure><p>è®¾ç½®æ—¶åŒºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br></code></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œ hwclock ä»¥ç”Ÿæˆ <code>/etc/adjtime</code>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">hwclock --systohc<br></code></pre></td></tr></table></figure><p>æœ¬åœ°åŒ–ï¼š</p><ol><li>ç¼–è¾‘ <code>/etc/locale.gen</code>ï¼Œå»æ‰ <code>en_US.UTF-8 UTF-8</code> ä»¥åŠ <code>zh_CN.UTF-8 UTF-8</code> è¡Œå‰çš„æ³¨é‡Šç¬¦å·ï¼ˆ#ï¼‰ã€‚</li><li>æ‰§è¡Œ <code>locale-gen</code> ä»¥ç”Ÿæˆ locale ä¿¡æ¯ã€‚</li><li>å‘ <code>/etc/locale.conf</code> åŠ å…¥ <code>LANG=en_US.UTF-8</code>ï¼ˆæ³¨æ„ï¼Œä¸è¦åœ¨æ­¤è®¾ç½®ä¸ºä¸­æ–‡ï¼‰ã€‚</li></ol><p>ä¸º root ç”¨æˆ·è®¾ç½®å¯†ç :</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">passwd root<br></code></pre></td></tr></table></figure><h3 id="å®‰è£…å¼•å¯¼"><a href="#å®‰è£…å¼•å¯¼" class="headerlink" title="å®‰è£…å¼•å¯¼"></a>å®‰è£…å¼•å¯¼</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">pacman -S grub efibootmgr os-prober<br></code></pre></td></tr></table></figure><p>å®‰è£… GRUB åˆ° EFI åˆ†åŒºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ARCH<br></code></pre></td></tr></table></figure><p>å¦‚æœåç»­å‘ç°å®‰è£…å¤±è´¥åˆ™å°è¯•åŠ å…¥ <code>removable</code> å‚æ•°ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ARCH --removable<br></code></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>/etc/default/grub</code> æ–‡ä»¶ï¼š</p><ol><li>å»æ‰ <code>GRUB_CMDLINE_LINUX_DEFAULT</code> ä¸€è¡Œä¸­çš„ <code>quiet</code> å‚æ•°</li><li>æŠŠ <code>loglevel</code> çš„æ•°å€¼ä» 3 æ”¹æˆ 5</li><li>åŠ å…¥ <code>nowatchdog</code> å‚æ•°</li></ol><p>ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><h3 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h3><p>è¾“å…¥ <code>exit</code> æˆ–æŒ‰ <code>Ctrl+d</code> é€€å‡º chroot ç¯å¢ƒã€‚ç„¶å <code>umount -R /mnt</code> æ‰‹åŠ¨å¸è½½è¢«æŒ‚è½½çš„åˆ†åŒºã€‚æ‹”æ‰ u ç›˜é‡å¯å³å¯ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://arch.icekylin.online/">https://arch.icekylin.online/</a></li><li><a href="https://wiki.archlinuxcn.org/zh-hans/%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97">https://wiki.archlinuxcn.org/zh-hans/å®‰è£…æŒ‡å—</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>arch linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘çš„2022</title>
    <link href="/posts/82a368dd/"/>
    <url>/posts/82a368dd/</url>
    
    <content type="html"><![CDATA[<p>2022 æ˜¯ç¥å¥‡çš„ä¸€å¹´ï¼Œè¿™ä¸€å¹´ï¼Œæˆ‘é‡æ‹¾äº†ç¼–ç¨‹ï¼Œç»å†äº†ä¸­è€ƒï¼Œæœ€ååœ¨å¹´æœ«é˜³äº†ä¸€æ¬¡ç­‰ç­‰â€¦â€¦</p><span id="more"></span><h1 id="ç¼–ç¨‹"><a href="#ç¼–ç¨‹" class="headerlink" title="ç¼–ç¨‹"></a>ç¼–ç¨‹</h1><p>è¯´æ¥ä¹Ÿç¥å¥‡ï¼ŒåˆäºŒçš„ä¸€å¹´å¤šé‡Œï¼Œæˆ‘å’Œç¼–ç¨‹å¯è°“æ˜¯ â€œé£é©¬ç‰›ï¼Œä¸ç›¸åŠâ€ ã€‚å¿˜è®°äº†æœ€åˆæ˜¯å› ä¸ºä»€ä¹ˆï¼Œè®©æˆ‘åœ¨å¿™ç¢Œçš„åˆä¸‰æŠŠè¿™ä¸¢äº†ä¸€å¹´å¤šçš„ç¼–ç¨‹é‡æ‹¾äº†èµ·æ¥ã€‚<br></p><p>æ—¢ç„¶è¦ç¼–ç¨‹ï¼Œé‚£æˆ‘è‚¯å®šéœ€è¦å·¥å…·ã€‚é‚£æˆ‘ç”¨ä»€ä¹ˆå‘¢ï¼Ÿè™½è¯´æ˜¯æˆ‘ç”¨ï¼Œä½†å¯ä»¥ä¾›æˆ‘é€‰æ‹©çš„å…¶å®å¹¶ä¸å¤šã€‚é‚£æ—¶ï¼Œå®¶é‡Œå¹¶æ²¡æœ‰ç”µè„‘ï¼Œäºæ˜¯ï¼Œæˆ‘æŠŠ â€œç½ªæ¶â€ çš„ç›®å…‰æŠ•å‘äº† termux + <code>neovim</code> ã€‚å½“ç„¶ï¼Œè¿™æ˜¯ååˆ†ç—›è‹¦çš„ã€‚åæ¥ï¼Œneovim ä¹Ÿæˆäº†æˆ‘ä¸ºæ•°ä¸å¤šç”¨è¿‡ï¼Œå´ç¦»ä¸å¼€çš„ editor&#x2F;IDEã€‚ï¼ˆå…¶å®æˆ‘æ ¹æœ¬æ²¡å°è¯•è¿‡å¦‚ vscode ç­‰å…¶ä»– editor&#x2F;IDEã€‚ğŸ¤£ï¼‰ã€‚</p><p>ä¸­è€ƒåï¼Œæˆ‘æœ‰äº†ç¬¬ä¸€å°ç”µè„‘ã€‚æˆ‘å…ˆç»™å®ƒå®‰è£…ä¸Šäº† Ubuntuï¼Œåæ¥åˆåŠ å…¥äº† Arch Linux å¤§å†›ã€‚</p><p>åœ¨è¿™ä¸€å¹´çš„æ—¶é—´é‡Œï¼Œæˆ‘ï¼š</p><ul><li>å­¦ä¹ äº† luaï¼Œé…ç½®äº†ä¸€ä¸ªæˆ‘å¾ˆæ»¡æ„çš„ nvim é…ç½®ã€‚</li><li>å†™äº†è‡ªå·±ç¬¬ä¸€ä¸ª nvim æ’ä»¶ <a href="https://github.com/XXiaoA/ns-textobject.nvim">ns-textobject.nvim</a></li><li>å­¦äº†ä¸€ç‚¹ Rust, å†™äº†ä¸€ä¸ªç»ƒæ‰‹çš„ Dotfiles Manager: <a href="https://github.com/XXiaoA/xdm">xdm</a>ã€‚å› ä¸ºå¯¹ Dotfiles Manager çš„éœ€æ±‚ä¸é«˜ï¼Œç°åœ¨ä¹Ÿä¸€ç›´åœ¨ç”¨è¿™ä¸ªå°å·¥å…·ç®¡ç†æˆ‘çš„ç‚¹æ–‡ä»¶ã€‚</li><li>å‚åŠ äº†å­¦æ ¡çš„ä¿¡æ¯ç«èµ›è¯¾ï¼Œå¼€å§‹å­¦ä¹  cppï¼Œæˆä¸ºäº†ä¸€åæ²¡æœ‰æ‰“è¿‡ä»»ä½•æ¯”èµ›çš„ä¸šä½™ OIerï¼ˆæˆ–è®¸éƒ½ä¸ç®—ï¼‰ã€‚</li><li>git commit æ–¹é¢ï¼Œä»ä¸€å¼€å§‹çš„å…¨æ˜¯ update å’Œ saveï¼Œåˆ°ç°åœ¨å˜å¾—æ›´åŠ è§„èŒƒã€‚</li><li>æäº†ç¬¬ä¸€ä¸ª issue, è§£å†³äº†åˆ«äººç¬¬ä¸€ä¸ª issueã€‚</li><li>æï¼ˆå¹¶è¢«åˆå¹¶ï¼‰äº†ç¬¬ä¸€ä¸ª PRï¼Œåˆå¹¶äº†ç¬¬ä¸€ä¸ªåˆ«äººçš„ PRã€‚</li><li>Github æ–©è· 30+ starsâ­</li></ul><br><p>è¿™é‡Œæ°´ä¸€å¼  github çš„çƒ­åŠ›å›¾<br><img src="https://s2.loli.net/2023/01/09/7v6aBQ81W2Lufib.png" alt="Github"></p><h1 id="ä¸­è€ƒ"><a href="#ä¸­è€ƒ" class="headerlink" title="ä¸­è€ƒ"></a>ä¸­è€ƒ</h1><p>ä¸­è€ƒï¼Œè®¸å¤šäººé¢å¯¹çš„ç¬¬ä¸€ä¸ªäººç”Ÿçš„è½¬æŠ˜ç‚¹ã€‚<br></p><p>é¢å¯¹è¿™ä¸ªè½¬æŠ˜ç‚¹ï¼Œæœ‰çš„äººè¶…å¸¸å‘æŒ¥ï¼Œæœ‰çš„äººé—æ†¾è½æ¦œã€‚è€Œæˆ‘ï¼Œä¸¤è€…éƒ½ä¸æ˜¯ã€‚æˆ‘å‘æŒ¥å¾—å’Œå¹³æ—¶çš„æˆç»©å·®ä¸å¤šï¼Œè¿›å…¥äº†ä¸€ä¸ªè¿˜ä¸é”™çš„å­¦æ ¡ã€‚ä¸è¿‡æˆ‘ç›¸ä¿¡ï¼Œæ¯ä¸€ç§å®‰æ’éƒ½æœ‰å®ƒçš„æ„ä¹‰ã€‚</p><p>è¿›å…¥é«˜ä¸­åï¼Œç»“äº¤äº†è®¸å¤šå¥½æœ‹å‹ã€‚æœ€æ»¡æ„çš„è¿˜æ˜¯å­¦æ ¡çš„é£Ÿå ‚ï¼Œæ˜¯å®ƒï¼Œè®©æˆ‘çŸ¥é“åˆä¸­ä¸‰å¹´åƒçš„éƒ½æœ‰å¤š<strong>éš¾åƒ</strong>ã€‚</p><h1 id="ç–«æƒ…æ”¾å¼€"><a href="#ç–«æƒ…æ”¾å¼€" class="headerlink" title="ç–«æƒ…æ”¾å¼€"></a>ç–«æƒ…æ”¾å¼€</h1><p>ç–«æƒ…é˜²æ§ä¸‰å¹´ï¼Œè€Œæ”¾å¼€åªæ˜¯ä¸€å¤œä¹‹é—´çš„äº‹ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“è¯´ä»€ä¹ˆäº†ã€‚<del>æ‰€ä»¥ï¼Œè°æ¥è¿˜æˆ‘é€å»çš„é’æ˜¥</del></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ–°çš„ä¸€å¹´ï¼Œå¸Œæœ›æˆ‘èƒ½ç»§ç»­è¿›æ­¥ï¼Œç»§ç»­åšæˆ‘çƒ­çˆ±çš„äº‹ï¼š codeï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ª repository æ”¶è· 100+ starsï¼<br></p><p>2022 å·²ç»è¿‡å»ï¼Œå¸Œæœ›æˆ‘åœ¨ 2023 èƒ½å¤Ÿ <strong>ç åŠ›UPUP</strong>ï¼Œæ”¾ä¸‹è¿‡å»ï¼Œçæƒœç°åœ¨ï¼ŒæŠŠæ¡æœªæ¥ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>others</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Create an Auto-Save Script With Delay Feature</title>
    <link href="/posts/15210477/"/>
    <url>/posts/15210477/</url>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Do you want to save your code before the destroying of the world? <br></p><span id="more"></span><p>You may say:â€ Thatâ€™s easy, I have ability to create an autocmd of <code>TextChanged</code> event to save itâ€. But itâ€™s too frequent sometimes. Therefore, I am going to tell you how to create a mini auto-save script with <code>delay</code> feature, which is useful.</p><h2 id="Thinking"><a href="#Thinking" class="headerlink" title="Thinking"></a>Thinking</h2><p>The main means to achieve the goal is to save the buffer after some events with <a href="https://neovim.io/doc/user/autocmd.html">autocmd</a> function and then start a timer. Before the timer ends, the script wonâ€™t save the buffer anymore. <br></p><p>Whatâ€™s more, I hope each buffer use a different timer.</p><h2 id="Letâ€™s-start"><a href="#Letâ€™s-start" class="headerlink" title="Letâ€™s start"></a>Letâ€™s start</h2><div class="note note-info">            <p>Youâ€™re able to run <code>help</code> command in neovim to check more details if necessary</p>          </div><p>In order to make coding easier, we will use the following variables in all code blocks.</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">local</span> api = vim.api<br><span class="hljs-keyword">local</span> fn = vim.fn<br></code></pre></td></tr></table></figure><h3 id="Autocmd"><a href="#Autocmd" class="headerlink" title="Autocmd"></a>Autocmd</h3><p>First of all, letâ€™s create a simple autocmd to save the buffer and show the hint for user after each <code>InsertLeave</code> and <code>TextChanged</code> event.</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">local</span> autosave = api.nvim_create_augroup(<span class="hljs-string">&quot;autosave&quot;</span>, &#123; clear = <span class="hljs-literal">true</span> &#125;)<br>api.nvim_create_autocmd(&#123; <span class="hljs-string">&quot;InsertLeave&quot;</span>, <span class="hljs-string">&quot;TextChanged&quot;</span> &#125;, &#123;<br>    pattern = <span class="hljs-string">&quot;*&quot;</span>,<br>    group = autosave,<br>    callback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx)</span></span><br>        vim.cmd(<span class="hljs-string">&quot;silent w&quot;</span>)<br>        vim.notify(<span class="hljs-string">&quot;Saved at &quot;</span> .. <span class="hljs-built_in">os</span>.<span class="hljs-built_in">date</span>(<span class="hljs-string">&quot;%H:%M:%S&quot;</span>))<br>    <span class="hljs-keyword">end</span>,<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="Delay"><a href="#Delay" class="headerlink" title="Delay"></a>Delay</h3><p>In this tutorial, we use <a href="https://neovim.io/doc/user/lua.html#vim.defer_fn()">vim.defer_fn</a> to do timer. And we use <a href="https://neovim.io/doc/user/api.html#nvim_buf_set_var()">nvim_buf_set_var</a> and <a href="https://neovim.io/doc/user/api.html#nvim_buf_get_var()">nvim_buf_get_var</a> to mark or get if a buffer is queued. If a buffer is queued, it cannot be saved. <br></p><p>Now, we should know if the buffer is queued. And the script only save the code when the buffer isnâ€™t queued .So add the following codes into callback function.</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-comment">-- get the queued value of the buffer</span><br><span class="hljs-keyword">local</span> ok, queued = <span class="hljs-built_in">pcall</span>(api.nvim_buf_get_var, ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>)<br><span class="hljs-comment">-- if cannot get/set buffer variable, end the callback</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ok <span class="hljs-keyword">then</span><br>    <span class="hljs-keyword">return</span><br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">-- only save the buffer if the buffer isn&#x27;t queued</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> queued <span class="hljs-keyword">then</span><br>    vim.cmd(<span class="hljs-string">&quot;silent w&quot;</span>)<br>    vim.notify(<span class="hljs-string">&quot;Saved at &quot;</span> .. <span class="hljs-built_in">os</span>.<span class="hljs-built_in">date</span>(<span class="hljs-string">&quot;%H:%M:%S&quot;</span>))<br>    <span class="hljs-comment">-- let the buffer queued after saving it</span><br>    api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">true</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><br><p>Then, weâ€™re supposed to cancle the bufferâ€™s queued status with timer. You may want to use the following code to do it after delay.</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs lua">vim.defer_fn(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span><br>    <span class="hljs-keyword">if</span> api.nvim_buf_is_valid(ctx.buf) <span class="hljs-keyword">then</span><br>        api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">false</span>)<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span>, delay)<br></code></pre></td></tr></table></figure><br><p>However, there is a big problem here. We aim at saving the code once at most every <code>delay</code>, but the fact is that, if we tigger the events many times, we will create many timers to set <code>autosave_queued</code> false. So, we need to create another variable to <code>block</code> the timer be like:</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">local</span> block = api.nvim_buf_get_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> block <span class="hljs-keyword">then</span><br>    api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>, <span class="hljs-literal">true</span>)<br>    vim.defer_fn(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span><br>        <span class="hljs-comment">-- check if the buffer valid</span><br>        <span class="hljs-comment">-- because buffer may disappear after delay</span><br>        <span class="hljs-keyword">if</span> api.nvim_buf_is_valid(ctx.buf) <span class="hljs-keyword">then</span><br>            api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">false</span>)<br>            api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>, <span class="hljs-literal">false</span>)<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span>, delay)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="Initialization"><a href="#Initialization" class="headerlink" title="Initialization"></a>Initialization</h3><p>At last, we ought to initialize the <code>autosave_queued</code> and <code>autosave_block</code> variable after entering a new buffer.</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs lua">api.nvim_create_autocmd(<span class="hljs-string">&quot;BufRead&quot;</span>, &#123;<br>    pattern = <span class="hljs-string">&quot;*&quot;</span>,<br>    group = autosave,<br>    callback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx)</span></span><br>        api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">false</span>)<br>        api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>, <span class="hljs-literal">false</span>)<br>    <span class="hljs-keyword">end</span>,<br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="Full-Code"><a href="#Full-Code" class="headerlink" title="Full Code"></a>Full Code</h2><details><summary><font size="" color="red">Click to show the full code.</font></summary><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">local</span> api = vim.api<br><span class="hljs-keyword">local</span> fn = vim.fn<br><br><span class="hljs-keyword">local</span> delay = <span class="hljs-number">250</span> <span class="hljs-comment">-- ms</span><br><br><span class="hljs-keyword">local</span> autosave = api.nvim_create_augroup(<span class="hljs-string">&quot;autosave&quot;</span>, &#123; clear = <span class="hljs-literal">true</span> &#125;)<br><span class="hljs-comment">-- Initialization</span><br>api.nvim_create_autocmd(<span class="hljs-string">&quot;BufRead&quot;</span>, &#123;<br>    pattern = <span class="hljs-string">&quot;*&quot;</span>,<br>    group = autosave,<br>    callback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx)</span></span><br>        api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">false</span>)<br>        api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>, <span class="hljs-literal">false</span>)<br>    <span class="hljs-keyword">end</span>,<br>&#125;)<br><br>api.nvim_create_autocmd(&#123; <span class="hljs-string">&quot;InsertLeave&quot;</span>, <span class="hljs-string">&quot;TextChanged&quot;</span> &#125;, &#123;<br>    pattern = <span class="hljs-string">&quot;*&quot;</span>,<br>    group = autosave,<br>    callback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx)</span></span><br>        <span class="hljs-comment">-- conditions that donnot do autosave</span><br>        <span class="hljs-keyword">local</span> disabled_ft = &#123; <span class="hljs-string">&quot;acwrite&quot;</span>, <span class="hljs-string">&quot;oil&quot;</span> &#125;<br>        <span class="hljs-keyword">if</span><br>            <span class="hljs-keyword">not</span> vim.bo.modified<br>            <span class="hljs-keyword">or</span> fn.findfile(ctx.file, <span class="hljs-string">&quot;.&quot;</span>) == <span class="hljs-string">&quot;&quot;</span> <span class="hljs-comment">-- a new file</span><br>            <span class="hljs-keyword">or</span> ctx.file:<span class="hljs-built_in">match</span>(<span class="hljs-string">&quot;wezterm.lua&quot;</span>)<br>            <span class="hljs-keyword">or</span> vim.tbl_contains(disabled_ft, vim.bo[ctx.buf].ft)<br>        <span class="hljs-keyword">then</span><br>            <span class="hljs-keyword">return</span><br>        <span class="hljs-keyword">end</span><br><br>        <span class="hljs-keyword">local</span> ok, queued = <span class="hljs-built_in">pcall</span>(api.nvim_buf_get_var, ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ok <span class="hljs-keyword">then</span><br>            <span class="hljs-keyword">return</span><br>        <span class="hljs-keyword">end</span><br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> queued <span class="hljs-keyword">then</span><br>            vim.cmd(<span class="hljs-string">&quot;silent w&quot;</span>)<br>            api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">true</span>)<br>            vim.notify(<span class="hljs-string">&quot;Saved at &quot;</span> .. <span class="hljs-built_in">os</span>.<span class="hljs-built_in">date</span>(<span class="hljs-string">&quot;%H:%M:%S&quot;</span>))<br>        <span class="hljs-keyword">end</span><br><br>        <span class="hljs-keyword">local</span> block = api.nvim_buf_get_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> block <span class="hljs-keyword">then</span><br>            api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>, <span class="hljs-literal">true</span>)<br>            vim.defer_fn(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span><br>                <span class="hljs-keyword">if</span> api.nvim_buf_is_valid(ctx.buf) <span class="hljs-keyword">then</span><br>                    api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_queued&quot;</span>, <span class="hljs-literal">false</span>)<br>                    api.nvim_buf_set_var(ctx.buf, <span class="hljs-string">&quot;autosave_block&quot;</span>, <span class="hljs-literal">false</span>)<br>                <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">end</span>, delay)<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span>,<br>&#125;)<br></code></pre></td></tr></table></figure></details><h2 id="Ending"><a href="#Ending" class="headerlink" title="Ending"></a>Ending</h2><p>Now, an awesome auto-save script have been created, which is customizable. You can add other features into it such as some conditions to save, some callbacks before&#x2F;after saving( e.g. formatting ), etc. <br></p><p>And you can check <a href="https://github.com/XXiaoA/nvimrc/blob/d39c88f869713ea01181475fc6016a73c1478cdf/plugin/auto_save.lua">here</a> to see my script. <br></p><p>If you have any ideas or find some issues, feel free to comment below!</p>]]></content>
    
    
    <categories>
      
      <category>Nvim</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nvim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Make Telegram Use User Fonts</title>
    <link href="/posts/b85da6b6/"/>
    <url>/posts/b85da6b6/</url>
    
    <content type="html"><![CDATA[<h2 id="Intsall"><a href="#Intsall" class="headerlink" title="Intsall"></a>Intsall</h2><p>First, you need to add <code>archlinuxcn</code> in <code>/etc/pacman.conf</code>:</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs confini">[archlinuxcn]<br>SigLevel = Optional TrustAll<br>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch<br></code></pre></td></tr></table></figure><br><p>Then run <code>sudo pacman -Syyu &amp;&amp; yay -S telegram-desktop-megumifox</code></p><h2 id="Showcase"><a href="#Showcase" class="headerlink" title="Showcase"></a>Showcase</h2><p><img src="https://s2.loli.net/2022/09/10/g5uBxTRpmX4OHtG.png" alt="telegram-desktop"><br><img src="https://s2.loli.net/2022/09/10/m7P4KbkiLGQZuSU.png" alt="telegram-desktop-megumifox"></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>arch linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Clash é­”æ³•æ•™å­¦</title>
    <link href="/posts/44a995c1/"/>
    <url>/posts/44a995c1/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>Arch Linux å¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><span id="more"></span><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">paru -S clash<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä»å®˜æ–¹çš„ <a href="https://github.com/Dreamacro/clash/releases">releases</a> é€‰æ‹©åˆé€‚è‡ªå·±æ“ä½œç³»ç»Ÿçš„å‹ç¼©åŒ…ã€‚</p><p>ç„¶åè§£å‹ï¼Œæ·»åŠ å¯æ‰§è¡Œæƒé™ï¼Œè®©åç§»åŠ¨åˆ° <code>$PATH</code> ç›®å½•ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">gzip -f clash*.gz -d<br><span class="hljs-built_in">mv</span> clash* clash<br><span class="hljs-built_in">chmod</span> +x clash<br><span class="hljs-built_in">mv</span> clash /usr/bin/<br></code></pre></td></tr></table></figure><br><p>æ‰§è¡Œ <code>clash</code> ä¼šé»˜è®¤åœ¨ <code>~/.config/clash/</code> ç›®å½•ä¸‹ç”Ÿæˆ <code>config.yaml</code> å’Œ <code>Country.mmdb</code> æ–‡ä»¶ã€‚å‰è€…æ˜¯é…ç½®æ–‡ä»¶ï¼Œå¦‚æœåè€…ä¸‹è½½å¤±è´¥å¯ä»¥æ‰‹åŠ¨ä¸‹è½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl <span class="hljs-string">&quot;https://github.com/Dreamacro/maxmind-geoip/releases/latest/download/Country.mmdb&quot;</span> -o <span class="hljs-string">&quot;~/.config/clash/Country.mmdb&quot;</span><br></code></pre></td></tr></table></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>ä½ å¯ä»¥è‡ªå·±æ ¹æ® <a href="https://github.com/Dreamacro/clash/wiki/Configuration">å®˜æ–¹wiki</a> ä¸­å­¦ä¹ å¦‚ä½•é…ç½®æ–‡æ¡£ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥ç›´æ¥ä»ä½ çš„æœºåœºé‚£ä¸‹è½½æ–‡ä»¶ã€‚</p><h2 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h2><h3 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h3><p>å¦‚é¢˜ï¼Œæ‰“å¼€ç³»ç»Ÿçš„ç½‘ç»œè®¾ç½®ï¼Œè®¾ç½®æˆå¦‚ä¸‹<br><img src="https://s2.loli.net/2022/09/04/Xx7Tdak4m5W93JP.png" alt="settings.png"> <br></p><p>å…¶ä¸­ä¾‹å¤–ä¸ºï¼š<code>localhost,127.0.0.0/8,::1</code>ã€‚<br></p><p>å› ä¸º clash é»˜è®¤ http ç«¯å£é»˜è®¤ç›‘å¬æ˜¯ 7890 , socks5 ç«¯å£é»˜è®¤ç›‘å¬æ˜¯ 7891ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åƒè¿™æ ·åœ¨ config.yaml é‡Œè¿™æ ·è‡ªå·±è®¾ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">port:</span> <span class="hljs-number">7890</span><br><span class="hljs-attr">socks-port:</span> <span class="hljs-number">7891</span><br></code></pre></td></tr></table></figure><h3 id="ç»ˆç«¯"><a href="#ç»ˆç«¯" class="headerlink" title="ç»ˆç«¯"></a>ç»ˆç«¯</h3><p>ä½ éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡åœ¨ä½ çš„ shell é…ç½®é‡Œï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890<br><span class="hljs-built_in">export</span> http_proxy=<span class="hljs-variable">$https_proxy</span><br></code></pre></td></tr></table></figure><h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><p>firefox çš„è¯æ‰“å¼€ç½‘ç»œè®¾ç½®ï¼Œæ”¹æˆæ‰‹åŠ¨é…ç½®ä»£ç†ï¼Œå…·ä½“é…ç½®å’Œå‰é¢çš„ç³»ç»Ÿé…ç½®å·®ä¸å¤šã€‚</p><h3 id="telegram"><a href="#telegram" class="headerlink" title="telegram"></a>telegram</h3><p>æ‰“å¼€è®¾ç½®ï¼Œæ‰¾åˆ° <code>Advanced</code> -&gt; <code>Proxy settings</code>ï¼Œæ”¹æˆ <code>use custom proxy</code>ï¼Œæ·»åŠ ä¸€ä¸ª <code>127.0.0.1ï¼š7891</code></p><h2 id="è‡ªå¯åŠ¨"><a href="#è‡ªå¯åŠ¨" class="headerlink" title="è‡ªå¯åŠ¨"></a>è‡ªå¯åŠ¨</h2><p>Arch Linux ä¸‹åˆ›å»ºæ–‡ä»¶ <code>/etc/systemd/system/clash.service</code>, å†…å®¹ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs systemd">[Unit]<br>Description=Clash daemon, A rule-based proxy in Go.<br>After=network.target<br><br>[Service]<br>Type=simple<br>Restart=always<br>ExecStart=/usr/bin/clash -d /home/xxiaoa/.config/clash<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><br><p>é‡æ–°åŠ è½½systemdï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl daemon-reload<br></code></pre></td></tr></table></figure><p>åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è¿è¡Œ clashï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> clash<br></code></pre></td></tr></table></figure><p>ç«‹å³è¿è¡Œ clashï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl start clash<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥ Clash çš„è¿è¡ŒçŠ¶å†µå’Œæ—¥å¿—ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl status clash<br>journalctl -xe<br></code></pre></td></tr></table></figure><h2 id="Web-ç®¡ç†"><a href="#Web-ç®¡ç†" class="headerlink" title="Web ç®¡ç†"></a>Web ç®¡ç†</h2><p>å…ˆæŠŠ <a href="https://github.com/Dreamacro/clash-dashboard/etc/clash/clash-dashboard">clash-dashboard</a> å…‹éš†åˆ°æœ¬åœ°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> -b gh-pages --depth 1 https://github.com/Dreamacro/clash-dashboard /home/xxiaoa/.config/clash/clash-dashboard<br></code></pre></td></tr></table></figure><br><p>ç„¶åè®°å¾—åœ¨ clash çš„é…ç½®é‡Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">external-controller:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:9090</span> <span class="hljs-comment"># ä¿®æ”¹ipåœ°å€å’Œç«¯å£ï¼›</span><br><span class="hljs-attr">external-ui:</span> <span class="hljs-string">/etc/clash/clash-dashboard</span> <span class="hljs-comment"># clash-dashboardçš„è·¯å¾„ï¼›</span><br><span class="hljs-attr">secret:</span> <span class="hljs-string">&#x27;123456&#x27;</span> <span class="hljs-comment"># å¯†ç </span><br></code></pre></td></tr></table></figure><p>ç„¶åæµè§ˆå™¨æ‰“å¼€ <a href="localhost:9090/ui">localhost:9090/ui</a> è¾“å…¥è‡ªå·±åˆšåˆšè®¾ç½®çš„å¯†ç å°±å¯ä»¥äº†ã€‚</p><p>æˆ–è€…å¦‚æœè§‰å¾—ä»¥ä¸Šå¤ªéº»çƒ¦å¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨çº¿ç‰ˆ <a href="http://clash.razord.top/#/proxies">http://clash.razord.top/#/proxies</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>clash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Read Yaml File in Rust</title>
    <link href="/posts/d42e5e77/"/>
    <url>/posts/d42e5e77/</url>
    
    <content type="html"><![CDATA[<h2 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h2><p>add <code>yaml-rust = &quot;0.4&quot;</code> in your Cargo.toml or run <code>cargo add yaml-rust</code></p><span id="more"></span><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># file.yaml</span><br><span class="hljs-attr">clean:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">~/</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">~/.config</span><br></code></pre></td></tr></table></figure><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// main.rs</span><br><span class="hljs-keyword">use</span> std::fs::File;<br><span class="hljs-keyword">use</span> std::io::prelude::*;<br><span class="hljs-keyword">use</span> yaml_rust::YamlLoader;<br><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">file</span> = <span class="hljs-string">&quot;file.yaml&quot;</span>;<br>    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(file).<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Unable to open file&quot;</span>);<br>    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">contents</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">new</span>();<br><br>    file.<span class="hljs-title function_ invoke__">read_to_string</span>(&amp;<span class="hljs-keyword">mut</span> contents)<br>        .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Unable to read file&quot;</span>);<br><br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">docs</span> = YamlLoader::<span class="hljs-title function_ invoke__">load_from_str</span>(&amp;contents).<span class="hljs-title function_ invoke__">unwrap</span>();<br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">yaml</span> = &amp;docs[<span class="hljs-number">0</span>];<br>    <span class="hljs-comment">// println!(&quot;&#123;:#?&#125;&quot;, yaml);</span><br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">clean</span> = yaml[<span class="hljs-string">&quot;clean&quot;</span>][<span class="hljs-number">0</span>].<span class="hljs-title function_ invoke__">as_str</span>().<span class="hljs-title function_ invoke__">unwrap</span>();<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;clean&#125;&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>result for cargo run:</p><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haml">~/<br></code></pre></td></tr></table></figure><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://yaml.org/">https://yaml.org/</a></li><li><a href="https://docs.rs/yaml-rust/latest/yaml_rust/">yaml_rust</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Rust</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yaml</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Zoxide: String Match Unknown Option &#39;--Groups-Only&#39; on Fish</title>
    <link href="/posts/dffe87b4/"/>
    <url>/posts/dffe87b4/</url>
    
    <content type="html"><![CDATA[<p>When I use <a href="https://github.com/ajeetdsouza/zoxide">zoxide</a> in ubuntu 22.04 in fish shell, it threw errors like this <br></p><span id="more"></span><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">string match:Unknown option &#x27;--groups-only&#x27;<br>...<br></code></pre></td></tr></table></figure><h2 id="Reason"><a href="#Reason" class="headerlink" title="Reason"></a>Reason</h2><p>Because my fish shell version isnâ€™t lastest in my sources. </p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Add PPA to use lastest fish.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-add-repository ppa:fish-shell/release-3<br><span class="hljs-built_in">sudo</span> apt update<br><span class="hljs-built_in">sudo</span> apt fish<br></code></pre></td></tr></table></figure><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://github.com/ajeetdsouza/zoxide/issues/436">ajeetdsouza&#x2F;zoxide#436</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tools</tag>
      
      <tag>fish shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¾åŒ– Gnome æ¡Œé¢</title>
    <link href="/posts/8b4c36b/"/>
    <url>/posts/8b4c36b/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ–‡åŸºäº <code>Ubuntu 22.04 LTS</code></p><span id="more"></span><h2 id="Gnome-æ‹“å±•"><a href="#Gnome-æ‹“å±•" class="headerlink" title="Gnome æ‹“å±•"></a>Gnome æ‹“å±•</h2><p>å®‰è£… tweaksï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install gnome-tweaks<br></code></pre></td></tr></table></figure><p>å®‰è£… gnome-shell-extensions</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install gnome-shell-extensions<br></code></pre></td></tr></table></figure><br><p>åœ¨æµè§ˆå™¨æ‹“å±•å•†åœºä¸­å®‰è£… <code>GNOME shell é›†æˆ</code>, chrome å’Œ firefox éƒ½æ”¯æŒã€‚ <br></p><p>ä»¥ chrome ä¾‹ï¼Œæ‰“å¼€ <a href="https://chrome.google.com/webstore/detail/gnome-shell-integration/gphhapmejobijbbhgpjhcjognlahblep">chrome åº”ç”¨å•†åœº</a>ã€‚å®‰è£…åå°±å¯ä»¥å¯¹æ‰©å±•è¿›è¡Œæ·»åŠ ä»¥åŠç®¡ç†äº†ã€‚ <br></p><p>æ‹“å±•å¯ä»¥è‡ªè¡Œå» <a href="https://extensions.gnome.org/">https://extensions.gnome.org/</a> å¯»æ‰¾ã€‚ä»¥ä¸‹æ˜¯æˆ‘å®‰è£…çš„æ‹“å±•<br><img src="https://s2.loli.net/2022/08/09/AqfdHmBzgbJwrS4.png"></p><h2 id="ä¸»é¢˜ç¾åŒ–"><a href="#ä¸»é¢˜ç¾åŒ–" class="headerlink" title="ä¸»é¢˜ç¾åŒ–"></a>ä¸»é¢˜ç¾åŒ–</h2><h3 id="User-Themes"><a href="#User-Themes" class="headerlink" title="User Themes"></a>User Themes</h3><p>é¦–å…ˆï¼Œ<strong>å¿…é¡»</strong>å…ˆå¯åŠ¨ <a href="https://extensions.gnome.org/extension/19/user-themes/">User Themes</a>ã€‚å¦‚å›¾ï¼Œç‚¹å‡» off, å˜æˆ on<br><img src="https://s2.loli.net/2022/08/09/dgsJylqRwEcn2M9.png"></p><h3 id="Ocs-url"><a href="#Ocs-url" class="headerlink" title="Ocs-url"></a>Ocs-url</h3><p>æ¥ä¸‹æ¥å®‰è£… <code>ocs-url</code>ã€‚<br></p><p>æ‰“å¼€ <a href="https://www.opendesktop.org/p/1136805/">https://www.opendesktop.org/p/1136805/</a>ï¼Œå®‰è£…å¯¹åº”çš„ <code>deb</code> åŒ…ã€‚ç„¶åç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install libqt5svg5 qml-module-qtquick-controls<br><span class="hljs-built_in">sudo</span> dpkg -i ocs-url*.deb<br></code></pre></td></tr></table></figure><h3 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h3><p>æ‰“å¼€ <a href="https://www.gnome-look.org/browse/">gnome-look</a> é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œä½¿ç”¨ <code>OCS-install</code>ï¼Œè¿™æ ·å¯ä»¥çœå»è‡ªå·±è§£å‹çš„æ­¥éª¤ã€‚<br></p><p>ç„¶åæ‰“å¼€ <code>tweaks</code>ã€‚é€‰æ‹© <code>å¤–è§‚</code>ï¼Œå°±å¯ä»¥åˆ‡æ¢è‡ªå·±ä½¿ç”¨çš„ä¸»é¢˜äº†ã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>æ‰“å¼€è®¾ç½®ï¼Œé€‰æ‹©å¤–è§‚ï¼Œå¯ä»¥è°ƒæ•´ <code>Dock</code> çš„ä½ç½®</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ubuntu</tag>
      
      <tag>gnome</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨GitHub Actionè‡ªåŠ¨éƒ¨ç½²åšå®¢</title>
    <link href="/posts/2dd3bdb5/"/>
    <url>/posts/2dd3bdb5/</url>
    
    <content type="html"><![CDATA[<h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><p>æŠŠ blog æºç æ”¾åœ¨ä¸€ä¸ªä»“åº“ï¼Œä¹‹ååªè¦ push å†…å®¹åˆ°è¯¥ä»“åº“ï¼Œå°±ç”¨ <code>GitHub action</code> è‡ªåŠ¨æ„å»ºåšå®¢ï¼Œå¹¶æŠŠ <code>public</code> ç›®å½•ä¸‹çš„å†…å®¹æ¨é€åˆ° <code>user.github.io</code> ä»“åº“</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="Workflow"><a href="#Workflow" class="headerlink" title="Workflow"></a>Workflow</h3><p>é¦–å…ˆï¼Œåœ¨ GitHub åˆ›å»ºä¸€ä¸ªåä¸º <code>blog</code> çš„ä»“åº“ï¼Œç”¨æ¥æ”¾åšå®¢æºç ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åå­—ã€‚</p><p>ç„¶åï¼Œåœ¨ <code>blog</code> ä»“åº“ä¸‹åˆ›å»º <code>.github/workflows/gh-pages.yml</code> æ–‡ä»¶ã€‚æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><details><summary><font size="" color="red">Hugoï¼ˆç‚¹å‡»å±•å¼€ï¼‰</font></summary><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">name:</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span>  <span class="hljs-comment"># Set a branch to deploy</span><br>  <span class="hljs-attr">pull_request:</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-20.04</span><br>    <span class="hljs-attr">concurrency:</span><br>      <span class="hljs-attr">group:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">github.workflow</span> <span class="hljs-string">&#125;&#125;-$&#123;&#123;</span> <span class="hljs-string">github.ref</span> <span class="hljs-string">&#125;&#125;</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">submodules:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># Fetch Hugo themes (true OR recursive)</span><br>          <span class="hljs-attr">fetch-depth:</span> <span class="hljs-number">0</span>    <span class="hljs-comment"># Fetch all history for .GitInfo and .Lastmod</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Hugo</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-hugo@v2</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">hugo-version:</span> <span class="hljs-string">&#x27;0.101.0&#x27;</span><br>          <span class="hljs-attr">extended:</span> <span class="hljs-literal">true</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">hugo</span> <span class="hljs-string">--minify</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">deploy_key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.ACTIONS_DEPLOY_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">external_repository:</span> <span class="hljs-string">XXiaoA/XXiaoA.github.io</span><br>          <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./public</span><br>          <span class="hljs-attr">commit_message:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">github.event.head_commit.message</span> <span class="hljs-string">&#125;&#125;</span><br></code></pre></td></tr></table></figure></details><details><summary><font size="" color="red">Hexoï¼ˆç‚¹å‡»å±•å¼€ï¼‰</font></summary><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br>  <span class="hljs-attr">workflow_dispatch:</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">Source</span> <span class="hljs-string">(Private</span> <span class="hljs-string">Repo)</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">submodules:</span> <span class="hljs-string">recursive</span> <span class="hljs-comment"># å¦‚æœä¸»é¢˜åœ¨å­æ¨¡å—é‡Œ</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node.js</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&quot;20&quot;</span><br>          <span class="hljs-attr">cache:</span> <span class="hljs-string">&#x27;npm&#x27;</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Dependencies</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">ci</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Hexo</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npx hexo clean</span><br><span class="hljs-string">          npx hexo generate</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Public</span> <span class="hljs-string">Repo</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-comment"># ä½ éœ€è¦åœ¨ blog ä»“åº“è®¾ç½®ä¸€ä¸ªåä¸º ACTIONS_DEPLOY_KEY çš„ Secret</span><br>          <span class="hljs-comment"># å†…å®¹æ˜¯ä½ çš„ SSH ç§é’¥ï¼Œå¯¹åº”çš„å…¬é’¥æ”¾åœ¨å…¬å¼€ä»“åº“çš„ Deploy Keys é‡Œ</span><br>          <span class="hljs-attr">deploy_key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.ACTIONS_DEPLOY_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">external_repository:</span><br>          <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./public</span><br>          <span class="hljs-attr">commit_message:</span> <span class="hljs-string">&quot;Site updated: $<span class="hljs-template-variable">&#123;&#123; github.event.head_commit.message &#125;&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure></details><p>å¯ä»¥è‡ªå·±åšä¸€äº›ä¿®æ”¹æ¥æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚ã€‚è®°å¾—æŠŠ <code>external_repository</code> æ”¹ä¸ºè‡ªå·±ä»“åº“çš„åå­—</p><h3 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h3><p>åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ssh-keygen -t rsa -b 4096 -C <span class="hljs-string">&quot;hexo-deploy&quot;</span><br></code></pre></td></tr></table></figure><p>ä¸å‡ºæ„å¤–ï¼Œä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ç”Ÿæˆï¼š</p><ul><li><code>xxxx.pub</code> å…¬é’¥</li><li><code>xxxx</code> ç§é’¥</li></ul><p>æ¥ç€æ‰“å¼€ GitHub çš„ <code>blog</code> ä»“åº“ï¼Œç‚¹å‡» <code>Settings</code> -&gt; <code>Secrets and variables</code> -&gt; <code>Actions</code> æ·»åŠ ä½ çš„ç§é’¥ï¼Œå‘½åä¸º <code>ACTIONS_DEPLOY_KEY</code></p><p>ç„¶åç‚¹å¼€ <code>user.github.io</code> ä»“åº“ã€‚è¿›å…¥è®¾ç½®ç‚¹å‡» <code>Deploy keys</code> æŠŠä½ çš„å…¬é’¥æ·»åŠ è¿›å»ã€‚è®°å¾—ç‚¹å‡» <code>Allow write access</code> é€‰é¡¹ã€‚</p><p>ç„¶åå°±å¤§åŠŸå‘Šæˆäº†ï¼ğŸ¥³</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://github.com/peaceiris/actions-hugo">peaceiris&#x2F;actions-hugo</a></li><li><a href="https://github.com/peaceiris/actions-gh-pages">peaceiris&#x2F;actions-gh-pages</a></li><li><a href="https://github.com/sma11black/hexo-action">sma11black&#x2F;hexo-action</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Blog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hugo</tag>
      
      <tag>hexo</tag>
      
      <tag>github</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸­è€ƒåŠ æ²¹</title>
    <link href="/posts/db16e61e/"/>
    <url>/posts/db16e61e/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å°"><a href="#ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å°" class="headerlink" title="ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å° "></a>ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å° <br></h1><h1 id="ä¸­è€ƒåŠ æ²¹-âœŠ"><a href="#ä¸­è€ƒåŠ æ²¹-âœŠ" class="headerlink" title="ä¸­è€ƒåŠ æ²¹!âœŠ"></a><font color="red">ä¸­è€ƒåŠ æ²¹!âœŠ</font></h1>]]></content>
    
    
    <categories>
      
      <category>Others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>others</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Yt-Dlp: An Awesome Videos Downloader</title>
    <link href="/posts/3be913fe/"/>
    <url>/posts/3be913fe/</url>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><blockquote><p>A youtube-dl fork with additional features and fixes</p></blockquote><span id="more"></span><p>Itâ€™s one of the best tools to download the video and etc. The following just some simple stuff of it. Therefore, go to <a href="https://github.com/yt-dlp/yt-dlp">GitHub</a> to see more! <br> </p><h2 id="Installation-Update"><a href="#Installation-Update" class="headerlink" title="Installation &amp; Update"></a>Installation &amp; Update</h2><h3 id="installation"><a href="#installation" class="headerlink" title="installation"></a>installation</h3><p>The following is a example for <code>pip</code>. </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">python3 -m pip install -U yt-dlp<br></code></pre></td></tr></table></figure><p>If you want to install some <strong>optional dependence</strong> for many  awesome features. Please click <a href="https://github.com/yt-dlp/yt-dlp#installation">the link</a> to see detailed information.<br></p><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>Youâ€™re able to run <code>yt-dlp -U</code> to update it. <br></p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>The basic command is. <br><br> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yt-dlp [OPTIONS] [--] URL [URL...]<br></code></pre></td></tr></table></figure></p><p>For example: <br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># Download the YouTube video</span><br>yt-dlp https://www.youtube.com/watch?v=NLNdoj_N_TY<br></code></pre></td></tr></table></figure><br><p>Print out the available formats and information with:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yt-dlp --list-formats URL<br></code></pre></td></tr></table></figure><p>For example:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yt-dlp --list-formats https://m.youtube.com/watch?v=NLNdoj_N_TY<br></code></pre></td></tr></table></figure><br><p>Then, you will see the following information:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs sh">[youtube] NLNdoj_N_TY: Downloading webpage<br>[youtube] NLNdoj_N_TY: Downloading android player API JSON<br>[info] Available formats <span class="hljs-keyword">for</span> NLNdoj_N_TY:<br>ID  EXT   RESOLUTION FPS |   FILESIZE  TBR PROTO | VCODEC         VBR ACODEC      ABR     ASR MORE INFO<br>---------------------------------------------------------------------------------------------------------------<br>sb2 mhtml 48x27          |                 mhtml | images                                     storyboard<br>sb1 mhtml 80x45          |                 mhtml | images                                     storyboard<br>sb0 mhtml 160x90         |                 mhtml | images                                     storyboard<br>139 m4a   audio only     |    1.89MiB  48k https | audio only         mp4a.40.5   48k 22050Hz low, m4a_dash<br>249 webm  audio only     |    2.10MiB  54k https | audio only         opus        54k 48000Hz low, webm_dash<br>250 webm  audio only     |    2.76MiB  71k https | audio only         opus        71k 48000Hz low, webm_dash<br>140 m4a   audio only     |    5.00MiB 129k https | audio only         mp4a.40.2  129k 44100Hz medium, m4a_dash<br>251 webm  audio only     |    5.29MiB 137k https | audio only         opus       137k 48000Hz medium, webm_dash<br>17  3gp   176x144      6 |    1.90MiB  49k https | mp4v.20.3      49k mp4a.40.2    0k 22050Hz 144p<br>394 mp4   256x144     25 |    2.14MiB  55k https | av01.0.00M.08  55k video only              144p, mp4_dash<br>160 mp4   256x144     25 |  763.00KiB  19k https | avc1.4d400c    19k video only              144p, mp4_dash<br>278 webm  256x144     25 |    1.51MiB  39k https | vp9            39k video only              144p, webm_dash<br>395 mp4   426x240     25 |    1.22MiB  31k https | av01.0.00M.08  31k video only              240p, mp4_dash<br>133 mp4   426x240     25 |    1.14MiB  29k https | avc1.4d4015    29k video only              240p, mp4_dash<br>242 webm  426x240     25 |    1.49MiB  38k https | vp9            38k video only              240p, webm_dash<br>396 mp4   640x360     25 |    2.04MiB  52k https | av01.0.01M.08  52k video only              360p, mp4_dash<br>134 mp4   640x360     25 |    1.84MiB  47k https | avc1.4d401e    47k video only              360p, mp4_dash<br>18  mp4   640x360     25 |   10.50MiB 271k https | avc1.42001E   271k mp4a.40.2    0k 44100Hz 360p<br>243 webm  640x360     25 |    2.05MiB  53k https | vp9            53k video only              360p, webm_dash<br>397 mp4   854x480     25 |    3.36MiB  86k https | av01.0.04M.08  86k video only              480p, mp4_dash<br>135 mp4   854x480     25 |    2.58MiB  66k https | avc1.4d401e    66k video only              480p, mp4_dash<br>244 webm  854x480     25 |    2.78MiB  72k https | vp9            72k video only              480p, webm_dash<br>22  mp4   1280x720    25 | ~  9.59MiB 242k https | avc1.64001F   242k mp4a.40.2    0k 44100Hz 720p<br>398 mp4   1280x720    25 |    6.29MiB 162k https | av01.0.05M.08 162k video only              720p, mp4_dash<br>136 mp4   1280x720    25 |    4.37MiB 113k https | avc1.4d401f   113k video only              720p, mp4_dash<br>247 webm  1280x720    25 |    4.66MiB 120k https | vp9           120k video only              720p, webm_dash<br>399 mp4   1920x1080   25 |   11.62MiB 300k https | av01.0.08M.08 300k video only              1080p, mp4_dash<br>137 mp4   1920x1080   25 |   14.25MiB 369k https | avc1.640028   369k video only              1080p, mp4_dash<br>248 webm  1920x1080   25 |   11.66MiB 301k https | vp9           301k video only              1080p, webm_dash<br></code></pre></td></tr></table></figure><p>As you can see, some is <strong>video only</strong> and some is <strong>audio only</strong>. </p><p>So you can run the following command to download only audio</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yt-dlp -f 140 https://m.youtube.com/watch?v=NLNdoj_N_TY<br></code></pre></td></tr></table></figure><br><p>Or change the argument to choose what do you want to download, such as <code>137</code> to download only video, and <code>140+137</code> to download both video and audio.</p><br><p>Download and merge the best video stream with the best audio stream:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yt-dlp -f <span class="hljs-string">&#x27;bv*+ba&#x27;</span> https://m.youtube.com/watch?v=H3o4l4GVLW0<br></code></pre></td></tr></table></figure><br><p>Download the video with subtitles</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yt-dlp --sub-langs en --embed-subs https://m.youtube.com/watch?v=H3o4l4GVLW0<br></code></pre></td></tr></table></figure><br><h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><p>You are able to put your argument of yt-dlp in a file. Please go to <a href="https://github.com/yt-dlp/yt-dlp#configuration">offical docs</a> for more. <br></p><p>At last, here is <a href="https://github.com/XXiaoA/dotfiles/blob/main/yt-dlp/yt-dlp.conf">my configuration</a>. Hope itâ€™s helpful</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://github.com/yt-dlp/yt-dlp">yt-dlp</a></li><li><a href="https://write.corbpie.com/downloading-youtube-videos-and-playlists-with-yt-dlp/">Downloading YouTube videos and playlists with yt-dlp</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tools</tag>
      
      <tag>youtube</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Find the Create Date of GitHub Repo</title>
    <link href="/posts/8f5cfa8c/"/>
    <url>/posts/8f5cfa8c/</url>
    
    <content type="html"><![CDATA[<p>You can use the <a href="https://developer.github.com/v3/repos/#get">API from GitHub</a> to search it.</p><span id="more"></span><p>Like open the following link in the browser.<br><code>https://api.github.com/repos/&#123;:owner&#125;/&#123;:repository&#125;</code></p><div class="note note-info">            <p>Donâ€™t forget to use your <code>username</code> and <code>repository name</code> to replace the <code>{:owner}</code> and <code>{:repository}</code></p>          </div><br>Or, you are allowed to use the following command to show the create time more easily.<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -s  https://api.github.com/repos/&#123;:user&#125;/&#123;:repo&#125; | grep created_at<br></code></pre></td></tr></table></figure><br> <h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://stackoverflow.com/questions/23611669/how-to-find-the-created-date-of-a-repository-project-on-github">How to find the created date of a repository project on GitHub?</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>github</tag>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¦ç”¨æŒ‰ä¸‹ O æˆ– O æˆ– å›è½¦ åè‡ªåŠ¨æ³¨é‡Š</title>
    <link href="/posts/4ac5e739/"/>
    <url>/posts/4ac5e739/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>é»˜è®¤æƒ…å†µä¸‹åœ¨ <code>nvim</code> ä¸­ï¼Œå¦‚æœä½ çš„å…‰æ ‡æ‰€åœ¨è¡Œè¢«æ³¨é‡Šï¼Œç„¶ååœ¨æ™®é€šæ¨¡å¼æŒ‰ä¸‹ <code>o</code> æˆ– <code>O</code> ï¼Œæˆ–åœ¨æ’å…¥æ¨¡å¼æŒ‰ä¸‹å›è½¦å°±ä¼šè‡ªåŠ¨æ³¨é‡Šä¸‹ä¸€è¡Œã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//Before     o  //After</span><br><span class="hljs-comment">// A comment    //A comment</span><br>                <span class="hljs-comment">//</span><br></code></pre></td></tr></table></figure><br><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æœ‰æ—¶å€™è¿™æ˜¯ç›¸å½“è®¨åŒçš„ã€‚ä¸ºäº†ç¦æ­¢è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„ <code>viml</code> å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vimscript">&quot; Viml<br>set formatoptions-=ro<br></code></pre></td></tr></table></figure><p>æˆ–è€… <code>Lua</code> å‘½ä»¤</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">vim.opt.formatoptions:<span class="hljs-built_in">remove</span>(<span class="hljs-string">&quot;ro&quot;</span>)<br></code></pre></td></tr></table></figure><br><p>ä½†æ˜¯å½“æˆ‘ä»¬åœ¨ <code>init.lua</code> ä¸­å†™å…¥ä»¥ä¸Šä»£ç ï¼Œé‡æ–°è¿›å…¥ nvim æ—¶å‘ç°å¹¶ä¸å¥æ•ˆï¼Œäºæ˜¯ä½¿ç”¨ <code>autocmd</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs lua">vim.api.nvim_create_autocmd(<br>    &#123;<span class="hljs-string">&quot;FileType&quot;</span>&#125;,<br>    &#123;<br>        command = <span class="hljs-string">&quot;set formatoptions-=ro&quot;</span><br>    &#125;<br>)<br></code></pre></td></tr></table></figure><br>é‡æ–°è¿›å…¥ nvimï¼Œå‘ç°ä»£ç ç”Ÿæ•ˆï¼Œé—®é¢˜è§£å†³ã€‚<br><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>ä»¥ä¸‹æ˜¯ç¾¤é‡Œ Julie å¤§ä½¬çš„è§£é‡Š:</p><blockquote><p>å› ä¸ºvimçš„builtin filetypeé…ç½®ï¼Œæ˜¯åœ¨vimrc&#x2F;init.luaä¹‹ååŠ è½½çš„ï¼Œè¦†ç›–äº†ä½ å†™åœ¨vimrc&#x2F;init.luaä¸­çš„formatoptionsé…ç½®ã€‚<br></p><p>ç”¨autocmd FileType * set formatptions-&#x3D;t è¿™æ ·ï¼Œå°±å¯ä»¥è§£å†³äº†ã€‚<br></p><p>æ‰§è¡Œ :verb set formatoptions å³å¯çœ‹åˆ°æœ€åä¸€æ¬¡è®¾ç½®è¿™ä¸ªoptionçš„åœ°æ–¹ã€‚<br><br></p></blockquote><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://stackoverflow.com/questions/4896003/how-to-stop-vim-from-automatically-inserting-the-comment-leader-when-enter-is-pr">how-to-stop-vim-from-automatically-inserting-the-comment-leader-when-enter-is-pr</a></p>]]></content>
    
    
    <categories>
      
      <category>Nvim</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nvim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ Hugo ä¸­ä½¿ç”¨ Mermaid</title>
    <link href="/posts/19c3d0f5/"/>
    <url>/posts/19c3d0f5/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>ä»¥ä¸‹å†…å®¹ä»…é€‚ç”¨äº <strong>æœªé€‚é… mermaid</strong> çš„ä¸»é¢˜<br><br>ä¸€äº›ä¸»é¢˜ï¼Œå¦‚ï¼šLoveIt æ— éœ€è‡ªå·±é¢å¤–é…ç½®</p>          </div><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p>ç­‰å¾…ä¸€ä¸‹ï¼Œçœ‹çœ‹æ•ˆæœå…ˆï¼ˆrssç”¨æˆ·æ²¡æ•ˆæœè¯·æ‰“å¼€ç½‘é¡µï¼‰ï¼š<br></p><pre><code class=" mermaid">graph LR;A[Hard edge] --&gt;|Link text| B(Round edge)    B --&gt; C&#123;Decision&#125;    C --&gt;|One| D[Result one]    C --&gt;|Two| E[Result two]</code></pre><span id="more"></span><h2 id="åœ¨-Hugo-ä¸­ä½¿ç”¨-Mermaid"><a href="#åœ¨-Hugo-ä¸­ä½¿ç”¨-Mermaid" class="headerlink" title="åœ¨ Hugo ä¸­ä½¿ç”¨ Mermaid"></a>åœ¨ Hugo ä¸­ä½¿ç”¨ Mermaid</h2><p>åœ¨ <strong>ç«™ç‚¹é…ç½®ç›®å½•</strong> åˆ›å»ºä¸€ä¸ª <code>layouts/shortcodes/mermaid.html</code> æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š<br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mermaid&quot;</span>&gt;</span><br>&#123;&#123;.Inner&#125;&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç„¶åå†åœ¨ <code>layouts/partials/header.html</code> æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;&#123; if (.Params.mermaid) &#125;&#125;<br><span class="hljs-comment">&lt;!-- MermaidJS support --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>&#123;&#123; end &#125;&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœæŸä¸€ç¯‡éœ€è¦å¼€å¯ mermaid å¯ä»¥åœ¨ <code>front matter</code> ä¸­åŠ å…¥ <code>mermaid: true</code> å³å¯<br></p><p>ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨ <code>archetypes/defaults.md</code> é‡ŒåŠ å…¥ mermaid: true ï¼Œè¿™æ ·æ¯æ¬¡åˆ›å»º posts æ—¶éƒ½ä¼šè‡ªåŠ¨æ·»åŠ <br></p><p>è¦åœ¨æ–‡ç« ä¸­ä½¿ç”¨ mermaid å¯ä»¥æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œç„¶ååœ¨ä¸­é—´æ·»åŠ  mermaid è¯­æ³•ï¼ˆè¯¦è§ <a href="https://mermaid-js.github.io/mermaid/#/">mermaid å®˜ç½‘</a>)<br><br><img src="https://s2.loli.net/2022/04/16/F74vNgoub5nAJ3q.jpg" alt="IMG_20220416_200644.jpg"></p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://www.sulvblog.cn/posts/blog/hugo_mermaid">https://www.sulvblog.cn/posts/blog/hugo_mermaid</a></p><p><a href="https://mermaid-js.github.io/mermaid/#/">https://mermaid-js.github.io/mermaid/#/</a></p>]]></content>
    
    
    <categories>
      
      <category>Blog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hugo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨ Utterances ç»™ Hugo PaperMod ä¸»é¢˜æ·»åŠ è¯„è®ºç³»ç»Ÿ</title>
    <link href="/posts/7bde847e/"/>
    <url>/posts/7bde847e/</url>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œä»¥ <code>PaperMod</code> ä¸»é¢˜ä¸ºä¾‹ï¼Œå…¶ä»–ä¸»é¢˜å¯èƒ½æœ‰ç»†å¾®å·®åˆ«ï¼Œä½†å¤§åŒå°å¼‚ã€‚</p><span id="more"></span><h2 id="å®‰è£…-Utterances"><a href="#å®‰è£…-Utterances" class="headerlink" title="å®‰è£… Utterances"></a>å®‰è£… Utterances</h2><p>é¦–å…ˆè¦æœ‰ä¸€ä¸ª <code>GitHub</code> ä»“åº“ã€‚å¦‚æœæ˜¯ç”¨ <code>GitHub Page</code> æ‰˜ç®¡ç½‘ç«™å°±ä¸éœ€è¦é¢å¤–åˆ›å»ºï¼Œå¦‚æœæ²¡æœ‰å°±è‡ªå·±åˆ›å»ºä¸€ä¸ªï¼Œç”¨æ¥å­˜æ”¾è¯„è®ºã€‚  </p><p>ç„¶åå» <a href="https://github.com/apps/utterances">https://github.com/apps/utterances</a> å®‰è£… <code>utterances</code>ã€‚é€‰æ‹©ä½ è¦å­˜æ”¾ç•™è¨€çš„ä»“åº“ï¼ˆä¹Ÿå¯ä»¥æ‰€æœ‰ä»“åº“ï¼Œä½†æ˜¯ä¸æ¨èï¼‰  </p><p>å¤åˆ¶ä»¥ä¸‹ä»£ç ï¼Œ<code>repo</code> è¦ä¿®æ”¹æˆè‡ªå·±çš„ä»“åº“ï¼Œä¸»é¢˜ç­‰å¯è§ <a href="https://utteranc.es/">https://utteranc.es/</a>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://utteranc.es/client.js&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">repo</span>=<span class="hljs-string">&quot;[ENTER REPO HERE]&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">issue-term</span>=<span class="hljs-string">&quot;pathname&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">theme</span>=<span class="hljs-string">&quot;github-light&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">async</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="é…ç½®-Hugo"><a href="#é…ç½®-Hugo" class="headerlink" title="é…ç½® Hugo"></a>é…ç½® Hugo</h2><p>åœ¨ä¸»é¢˜é…ç½®ç›®å½•ä¸‹åˆ›å»º <code>layouts/partials/comments.html</code> æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä¸Šè¿°å†…å®¹</p><p>ç„¶åæ ¹æ® PaperMod æ–‡æ¡£ï¼Œæ‰“å¼€ <code>config.yml</code> æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">params:</span><br>  <span class="hljs-attr">comments:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>æœ€åè¿è¡Œ Hugo é‡æ–°ç”Ÿæˆç½‘ç«™å³å¯ã€‚æ‰“å¼€ç½‘ç«™ï¼Œç­‰ utterances ç”Ÿæ•ˆã€‚æ•ˆæœå¦‚ä¸‹ğŸ‘‡</p>]]></content>
    
    
    <categories>
      
      <category>Blog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hugo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å»ºç«™æ—¥å¿—</title>
    <link href="/posts/e62c38c4/"/>
    <url>/posts/e62c38c4/</url>
    
    <content type="html"><![CDATA[<h1 id="è®°å½•æœ¬ç«™å„è¾ƒé‡å¤§äº‹ä»¶"><a href="#è®°å½•æœ¬ç«™å„è¾ƒé‡å¤§äº‹ä»¶" class="headerlink" title="è®°å½•æœ¬ç«™å„è¾ƒé‡å¤§äº‹ä»¶"></a>è®°å½•æœ¬ç«™å„è¾ƒé‡å¤§äº‹ä»¶</h1><p>2022.2.12ï¼šæˆåŠŸå»ºç«™<br><br>2022.2.13ï¼šå†™ä¸‹è‡ªå·±ç¬¬ä¸€ç¯‡åšå®¢ä»¥å¤ç›˜å»ºç«™è¿‡ç¨‹<br><br>2022.2.14ï¼šæŠŠHexoä¸»é¢˜ç”±materyè½¬å‘NexT<br><br>2022.2.15ï¼šå‘ç™¾åº¦&amp;bingæäº¤æ”¶å½•ç”³è¯·ï¼Œç„¶è€Œè¿˜æœä¸åˆ°ğŸ˜<br><br>2022.2.18ï¼šä¸»é¢˜è½¬ä¸ºfluid<br><br>2022.2.22ï¼šç½‘ç«™å¯ä»¥åœ¨bingæœåˆ°äº†<br><br>2022.3.11ï¼šæ“ä½œå¤±è¯¯å¯¼è‡´æ–‡ç« å…¨éƒ¨æ¶ˆå¤±ğŸ˜­<br><br>2022.3.12ï¼šä¸»é¢˜è½¬ä¸ºbutterfly<br><br>2022.4.04ï¼šåŠ å…¥Hugoå¤§å†› ğŸ˜ƒ<br><br>2022.4.29ï¼šä½¿ç”¨ <code>LoveIt</code> ä¸»é¢˜<br><br>2022-09-10: ä¸­ç§‹ä½³èŠ‚ï¼Œpvçªç ´3kï¼Œuvçªç ´1kï¼ğŸ‰<br><br>2022-10-01: back to hexo (lol)<br></p>]]></content>
    
    
    <categories>
      
      <category>Others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>others</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>About</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<p>Hey ğŸ‘‹, welcome to my personal website ğŸ˜ƒ. And I am about to use a <strong>Q&amp;A</strong> format to tell you something <strong>about me</strong> in the following âœ¨.</p><span id="more"></span><h3 id="Q1-Who-are-you-ğŸ¤”"><a href="#Q1-Who-are-you-ğŸ¤”" class="headerlink" title="Q1: Who are you ğŸ¤”?"></a><strong>Q1</strong>: Who are you ğŸ¤”?</h3><p><strong>A1</strong>: Just an ordinary unversity student who likes programming.</p><h3 id="Q2-What-skills-do-you-have-ğŸ§"><a href="#Q2-What-skills-do-you-have-ğŸ§" class="headerlink" title="Q2: What skills do you have ğŸ§?"></a><strong>Q2</strong>: What skills do you have ğŸ§?</h3><p><strong>A2</strong>: My first programming language is <code>python</code> ğŸ. However, Iâ€™m not pretty good at it. And my favorite editor is <strong>NeoVim</strong>. Iâ€™m also learning rust and cpp right now.</p><p>Although Iâ€™m not proficient in the above skills, Iâ€™m going to try my best to learn them well. Iâ€™d be honored if you can give me some starsğŸŒŸ on the <a href="https://github.com/XXiaoA/">Github</a></p><h3 id="Q3-How-to-contact-youâ“"><a href="#Q3-How-to-contact-youâ“" class="headerlink" title="Q3: How to contact youâ“"></a><strong>Q3</strong>: How to contact youâ“</h3><p><strong>A3</strong>: Youâ€™re welcome to email me. Here is my email <a href="mailto:isxxiaoa@gmail.com">isxxiaoa@gmail.com</a></p><p>In addition, if you find anything wrong in my website, please send it to me by email or leave a message below ğŸ¤—.</p>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[(function() {  var times = document.getElementsByTagName('time');  if (times.length === 0) { return; }  var posts = document.getElementsByClassName('post-content');  if (posts.length === 0) { return; }  var pubTime = new Date(times[0].dateTime);  /* æ–‡ç« å‘å¸ƒæ—¶é—´æˆ³ */  var now = Date.now()  /* å½“å‰æ—¶é—´æˆ³ */  var interval = parseInt(now - pubTime)  /* å‘å¸ƒæ—¶é—´è¶…è¿‡æŒ‡å®šæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ */  if (interval > 3600*24*30*6*1000 && interval <= 3600*24*30*12*1000){    var days = parseInt(interval / 86400000)    posts[0].innerHTML = '<div class="note note-info" style="font-size:0.9rem"><p>' +      '<div class="h6">Article Timeliness Reminder</div><p>This article has been ' + days + ' days since the first publication, the content of the article may be outdated.' +      '</p></p></div>' + posts[0].innerHTML;  }else if (interval > 3600*24*30*12*1000){    var days = parseInt(interval / 86400000)    posts[0].innerHTML = '<div class="note note-warning" style="font-size:0.9rem"><p>' +      '<div class="h6">Article Timeliness Reminder</div><p>This article has been ' + days + ' days since the first publication, the content of the article may be outdated.' +      '</p></p></div>' + posts[0].innerHTML;  }})();]]></content>
    
  </entry>
  
  
  
</search>
